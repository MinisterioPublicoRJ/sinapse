<!doctype html>
<html>
    <head>
        <base href="/">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>Conexão</title>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
        {% assets "css" %}
            <link rel="stylesheet" href="{{ ASSET_URL }}">
        {% endassets %}
    </head>
    <body class="container-fluid">
        <header>
        <div class="col-lg-12">
            <div class="col-lg-2">
                <a class="logo" href="/">Logo do sistema conexão</a>
            </div>
            <div class="col-lg-8">
                <p id="version">
                    <span id="version_number"></span><span id="version_username">{{session['usuario']}}</span>
                </p>
            </div>
            <div class="col-lg-2">
                <a href="http://apps.mprj.mp.br/sistema/cadg/" class="mprj">
                    <span><abbr title="Ministério Público">MP</abbr> em Mapas</span>
                </a>
            </div>
        </div>
        </header>
        <div class="entitylist">
            <p>As entidades exibidas no grafo são exibidas nesta janela lateral.</p>
            <p>Clique em um tipo para exibir ou ocultar as entidades.</p>
            <p>Clique numa entidade para lhe dar destaque.</p>
            <input id="entitylistfilter" placeholder="digite aqui para filtrar">
            <div id="entitylist"></div>
        </div>
        <div class="container-graph">
            <main>
                <div class="col-lg-8 col-lg-offset-2 busca">
                    <div id="loading">
                        <img src="/static/img/icon/Loading_icon.gif">
                    </div>
                    <div id="search-area" class="hidden">
                        <div id="balls-animation"></div>
                        <form id="form-search-area">
                            <div id="textBusca">
                                <input type="text" placeholder="O que deseja procurar?" id="textVal" autofocus/>
                            </div>
                        </form>
                    </div>
                    <div id="search-result"></div>
                    <div id="search-details"></div>
                    <div id="bond-analysis"></div>
                    <div id="whereabouts"></div>
                    <div id="step4" class="hidden">
                        <button id="clear">
                            <span>Voltar para a busca</span>
                        </button>
                    </div>
                </div>
                <div id="graph" class="graphhidden"></div>
                <div id="graph-popup"></div>
            </main>
            <footer class="hidden">
                <div class="footer">
                    <div class="col-lg-1">
                        <div class="filter">
                            <div class="hidden" id="filter-expanded">
                                <div class="entity empresa">
                                    <span class="ball"></span>
                                    <span class="text">Empresa</span>
                                </div>
                                <div class="entity mgp">
                                    <span class="ball"></span>
                                    <span class="text">MGP</span>
                                </div>
                                <div class="entity multa">
                                    <span class="ball"></span>
                                    <span class="text">Multa</span>
                                </div>
                                <div class="entity orgao">
                                    <span class="ball"></span>
                                    <span class="text">Órgão</span>
                                </div>
                                <div class="entity personagem">
                                    <span class="ball"></span>
                                    <span class="text">Personagem</span>
                                </div>
                                <div class="entity pessoa">
                                    <span class="ball"></span>
                                    <span class="text">Pessoa</span>
                                </div>
                                <div class="entity telefone">
                                    <span class="ball"></span>
                                    <span class="text">Telefone</span>
                                </div>
                                <div class="entity veiculo">
                                    <span class="ball"></span>
                                    <span class="text">Veículo</span>
                                </div>
                            </div>
                            <div id="filter-call">
                                <span class="ball"></span>
                                <!-- <span class="text">Clique para filtrar tipos de entidades</span> -->
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <aside id="sidebarRight"></aside>
        {% assets "js" %}
            <script type="text/javascript" src="{{ ASSET_URL }}"></script>
        {% endassets %}
        <script type="module" src="/static/js/main.js"></script>
        {% if filtroinicial is defined %}
            <script>
                window.filtroInicial = {
                    label: '{{ filtroinicial.label }}',
                    prop: '{{ filtroinicial.prop }}',
                    val: '{{ filtroinicial.val }}'
                }
                
                document.getElementById('loading').className = 'hidden'
                
                findNodes(
                    filtroInicial.label,
                    filtroInicial.prop,
                    filtroInicial.val
                )
            </script>
        {% endif %}
    </body>
</html>
